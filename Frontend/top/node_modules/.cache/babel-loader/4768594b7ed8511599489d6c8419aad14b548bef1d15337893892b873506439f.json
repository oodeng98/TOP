{"ast":null,"code":"/**\n * dd-elements.ts 10.3.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\nimport { DDResizable } from './dd-resizable';\nimport { DDDraggable } from './dd-draggable';\nimport { DDDroppable } from './dd-droppable';\nexport class DDElement {\n  static init(el) {\n    if (!el.ddElement) {\n      el.ddElement = new DDElement(el);\n    }\n    return el.ddElement;\n  }\n  constructor(el) {\n    this.el = el;\n  }\n  on(eventName, callback) {\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n      this.ddDraggable.on(eventName, callback);\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n      this.ddDroppable.on(eventName, callback);\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n      this.ddResizable.on(eventName, callback);\n    }\n    return this;\n  }\n  off(eventName) {\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n      this.ddDraggable.off(eventName);\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n      this.ddDroppable.off(eventName);\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n      this.ddResizable.off(eventName);\n    }\n    return this;\n  }\n  setupDraggable(opts) {\n    if (!this.ddDraggable) {\n      this.ddDraggable = new DDDraggable(this.el, opts);\n    } else {\n      this.ddDraggable.updateOption(opts);\n    }\n    return this;\n  }\n  cleanDraggable() {\n    if (this.ddDraggable) {\n      this.ddDraggable.destroy();\n      delete this.ddDraggable;\n    }\n    return this;\n  }\n  setupResizable(opts) {\n    if (!this.ddResizable) {\n      this.ddResizable = new DDResizable(this.el, opts);\n    } else {\n      this.ddResizable.updateOption(opts);\n    }\n    return this;\n  }\n  cleanResizable() {\n    if (this.ddResizable) {\n      this.ddResizable.destroy();\n      delete this.ddResizable;\n    }\n    return this;\n  }\n  setupDroppable(opts) {\n    if (!this.ddDroppable) {\n      this.ddDroppable = new DDDroppable(this.el, opts);\n    } else {\n      this.ddDroppable.updateOption(opts);\n    }\n    return this;\n  }\n  cleanDroppable() {\n    if (this.ddDroppable) {\n      this.ddDroppable.destroy();\n      delete this.ddDroppable;\n    }\n    return this;\n  }\n}","map":{"version":3,"names":["DDResizable","DDDraggable","DDDroppable","DDElement","init","el","ddElement","constructor","on","eventName","callback","ddDraggable","indexOf","ddDroppable","ddResizable","off","setupDraggable","opts","updateOption","cleanDraggable","destroy","setupResizable","cleanResizable","setupDroppable","cleanDroppable"],"sources":["../src/dd-element.ts"],"sourcesContent":["/**\n * dd-elements.ts 10.3.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\n\nimport { DDResizable, DDResizableOpt } from './dd-resizable';\nimport { GridItemHTMLElement } from './types';\nimport { DDDraggable, DDDraggableOpt } from './dd-draggable';\nimport { DDDroppable, DDDroppableOpt } from './dd-droppable';\n\nexport interface DDElementHost extends GridItemHTMLElement {\n  ddElement?: DDElement;\n}\n\nexport class DDElement {\n\n  static init(el: DDElementHost): DDElement {\n    if (!el.ddElement) { el.ddElement = new DDElement(el); }\n    return el.ddElement;\n  }\n\n  public ddDraggable?: DDDraggable;\n  public ddDroppable?: DDDroppable;\n  public ddResizable?: DDResizable;\n\n  constructor(public el: DDElementHost) {}\n\n  public on(eventName: string, callback: (event: MouseEvent) => void): DDElement {\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n      this.ddDraggable.on(eventName as 'drag' | 'dragstart' | 'dragstop', callback);\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n      this.ddDroppable.on(eventName as 'drop' | 'dropover' | 'dropout', callback);\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n      this.ddResizable.on(eventName as 'resizestart' | 'resize' | 'resizestop', callback);\n    }\n    return this;\n  }\n\n  public off(eventName: string): DDElement {\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n      this.ddDraggable.off(eventName as 'drag' | 'dragstart' | 'dragstop');\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n      this.ddDroppable.off(eventName as 'drop' | 'dropover' | 'dropout');\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n      this.ddResizable.off(eventName as 'resizestart' | 'resize' | 'resizestop');\n    }\n    return this;\n  }\n\n  public setupDraggable(opts: DDDraggableOpt): DDElement {\n    if (!this.ddDraggable) {\n      this.ddDraggable = new DDDraggable(this.el, opts);\n    } else {\n      this.ddDraggable.updateOption(opts);\n    }\n    return this;\n  }\n\n  public cleanDraggable(): DDElement {\n    if (this.ddDraggable) {\n      this.ddDraggable.destroy();\n      delete this.ddDraggable;\n    }\n    return this;\n  }\n\n  public setupResizable(opts: DDResizableOpt): DDElement {\n    if (!this.ddResizable) {\n      this.ddResizable = new DDResizable(this.el, opts);\n    } else {\n      this.ddResizable.updateOption(opts);\n    }\n    return this;\n  }\n\n  public cleanResizable(): DDElement {\n    if (this.ddResizable) {\n      this.ddResizable.destroy();\n      delete this.ddResizable;\n    }\n    return this;\n  }\n\n  public setupDroppable(opts: DDDroppableOpt): DDElement {\n    if (!this.ddDroppable) {\n      this.ddDroppable = new DDDroppable(this.el, opts);\n    } else {\n      this.ddDroppable.updateOption(opts);\n    }\n    return this;\n  }\n\n  public cleanDroppable(): DDElement {\n    if (this.ddDroppable) {\n      this.ddDroppable.destroy();\n      delete this.ddDroppable;\n    }\n    return this;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}